<div class="bioplasticsMarketMonitor">
  <div class="bioplastics-filtration"  outclick (outclick)="onOutclick()">
    <div class="filter_section" >
      <div class="filter_item country" (click)="OpenDropdown(1)" [ngClass]="{ active: selectedDropdownIndex === 1 }">
        Browse by Country
        <svg
          width="16"
          height="9"
          viewBox="0 0 16 9"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.99974 8.96661C7.82196 8.96661 7.64952 8.93328 7.48241 8.86661C7.3153 8.79994 7.17663 8.71105 7.06641 8.59994L0.933072 2.46661C0.688628 2.22217 0.566406 1.91105 0.566406 1.53328C0.566406 1.1555 0.688628 0.844387 0.933072 0.599943C1.17752 0.355498 1.48863 0.233276 1.86641 0.233276C2.24418 0.233276 2.5553 0.355498 2.79974 0.599943L7.99974 5.79994L13.1997 0.599943C13.4442 0.355498 13.7553 0.233276 14.1331 0.233276C14.5109 0.233276 14.822 0.355498 15.0664 0.599943C15.3108 0.844387 15.4331 1.1555 15.4331 1.53328C15.4331 1.91105 15.3108 2.22217 15.0664 2.46661L8.93307 8.59994C8.79974 8.73328 8.6553 8.82794 8.49974 8.88394C8.34418 8.93994 8.17752 8.9675 7.99974 8.96661Z"
            fill="#fff"
          />
        </svg>
      </div>
      <div class="filter_item theme" (click)="OpenDropdown(2)" [ngClass]="{ active: selectedDropdownIndex === 2 }" >
        Browse by Theme
        <svg
          width="16"
          height="9"
          viewBox="0 0 16 9"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.99974 8.96661C7.82196 8.96661 7.64952 8.93328 7.48241 8.86661C7.3153 8.79994 7.17663 8.71105 7.06641 8.59994L0.933072 2.46661C0.688628 2.22217 0.566406 1.91105 0.566406 1.53328C0.566406 1.1555 0.688628 0.844387 0.933072 0.599943C1.17752 0.355498 1.48863 0.233276 1.86641 0.233276C2.24418 0.233276 2.5553 0.355498 2.79974 0.599943L7.99974 5.79994L13.1997 0.599943C13.4442 0.355498 13.7553 0.233276 14.1331 0.233276C14.5109 0.233276 14.822 0.355498 15.0664 0.599943C15.3108 0.844387 15.4331 1.1555 15.4331 1.53328C15.4331 1.91105 15.3108 2.22217 15.0664 2.46661L8.93307 8.59994C8.79974 8.73328 8.6553 8.82794 8.49974 8.88394C8.34418 8.93994 8.17752 8.9675 7.99974 8.96661Z"
            fill="#fff"
          />
        </svg>
      </div>
      <div class="filter_item region" (click)="OpenDropdown(3)" [ngClass]="{ active: selectedDropdownIndex === 3 }">
        Browse by Region
        <svg
          width="16"
          height="9"
          viewBox="0 0 16 9"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.99974 8.96661C7.82196 8.96661 7.64952 8.93328 7.48241 8.86661C7.3153 8.79994 7.17663 8.71105 7.06641 8.59994L0.933072 2.46661C0.688628 2.22217 0.566406 1.91105 0.566406 1.53328C0.566406 1.1555 0.688628 0.844387 0.933072 0.599943C1.17752 0.355498 1.48863 0.233276 1.86641 0.233276C2.24418 0.233276 2.5553 0.355498 2.79974 0.599943L7.99974 5.79994L13.1997 0.599943C13.4442 0.355498 13.7553 0.233276 14.1331 0.233276C14.5109 0.233276 14.822 0.355498 15.0664 0.599943C15.3108 0.844387 15.4331 1.1555 15.4331 1.53328C15.4331 1.91105 15.3108 2.22217 15.0664 2.46661L8.93307 8.59994C8.79974 8.73328 8.6553 8.82794 8.49974 8.88394C8.34418 8.93994 8.17752 8.9675 7.99974 8.96661Z"
            fill="#fff"
          />
        </svg>
      </div>
      <div class="search-bar">
        <div class="serach-input">
          <input type="text" placeholder="Search..." />
        </div>
        <div class="serach-btn">
          <a routerLink="/search-results">
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14.7188 15.29C14.7188 15.29 15.0349 14.9739 15.6671 14.3417C16.2993 13.7095 16.6154 12.504 16.6154 10.7251C16.6154 8.94629 15.9832 7.42465 14.7188 6.16023C13.4543 4.89581 11.9327 4.2636 10.1538 4.2636C8.375 4.2636 6.85337 4.89581 5.58894 6.16023C4.32452 7.42465 3.69231 8.94629 3.69231 10.7251C3.69231 12.504 4.32452 14.0256 5.58894 15.29C6.85337 16.5545 8.375 17.1867 10.1538 17.1867C11.9327 17.1867 13.4543 16.5545 14.7188 15.29ZM24 22.7251C24 23.2251 23.8173 23.6578 23.4519 24.0232C23.0865 24.3886 22.6538 24.5713 22.1538 24.5713C21.6346 24.5713 21.2019 24.3886 20.8558 24.0232L15.9087 19.0905C14.1875 20.2828 12.2692 20.879 10.1538 20.879C8.77885 20.879 7.46394 20.6122 6.20913 20.0785C4.95433 19.5448 3.8726 18.8237 2.96394 17.915C2.05529 17.0064 1.33413 15.9247 0.800481 14.6698C0.266827 13.415 0 12.1001 0 10.7251C0 9.35014 0.266827 8.03523 0.800481 6.78042C1.33413 5.52562 2.05529 4.44389 2.96394 3.53523C3.8726 2.62658 4.95433 1.90542 6.20913 1.37177C7.46394 0.838116 8.77885 0.571289 10.1538 0.571289C11.5288 0.571289 12.8438 0.838116 14.0986 1.37177C15.3534 1.90542 16.4351 2.62658 17.3438 3.53523C18.2524 4.44389 18.9736 5.52562 19.5072 6.78042C20.0409 8.03523 20.3077 9.35014 20.3077 10.7251C20.3077 12.8405 19.7115 14.7588 18.5192 16.4799L23.4663 21.4271C23.8221 21.7828 24 22.2155 24 22.7251Z"
                fill="#fff"
              />
            </svg>
          </a>
        </div>
      </div>
    </div>
    <div *ngIf="this.dropdownOpen" class="filtering_dropdown">
      <div class="filtering_dropdown-content" *ngIf="selectedDropdownIndex === 1">
        <div class="country_group_tab">
         <div *ngFor="let item of countriesGroupByAZ" (click)="changeGroup(item)" [ngClass]="{ active: activeGruopAZ === item }" >
          <p> {{item}} </p>
         </div>
        </div>
          <div class="filtering_dropdown-content_theme">
            <div class="filtering_dropdown-content_theme_item" *ngFor="let item of filtredCountriesList">
              <p>{{item.name}}</p>
            </div>
          </div>
      </div>
      <!--  -->
      <div class="filtering_dropdown-content" *ngIf="selectedDropdownIndex === 2">
          <div class="filtering_dropdown-content_theme">
            <div class="filtering_dropdown-content_theme_item" *ngFor="let item of themesData">
              <p>{{item.Themes}}</p>
            </div>
          </div>
      </div>
      <!--  -->
      <div class="filtering_dropdown-content" *ngIf="selectedDropdownIndex === 3">
          <div class="filtering_dropdown-content_theme">
            <div class="filtering_dropdown-content_theme_item" *ngFor="let item of regionData">
              <p>{{item}}</p>
            </div>
          </div>
      </div>
      <!-- {{selectedDropdownIndex}} -->
    </div>
  </div>

  <div class="bioplasticsMarketMonitor-content">
    <div class="bioplasticsMarketMonitor-content-chart">
      <div class="list">
        <div class="list_header">
          <h3 class="title">Newsfeed</h3>
          <span class="orange_area"></span>
        </div>
        <div class="list_content">
          <div class="list_content_item" *ngFor="let item of data">
            <h4>{{ item.News }}</h4>
            <div class="arrow">
              <img src="../../../assets/images/small-arrow.svg" alt="arrow" />
            </div>
          </div>
        </div>
      </div>
      <div>
        <!--  -->
        <div class="comp">
          <dx-chart
            [dataSource]="top10Companies"
            [palette]="['#e74e0b']"
            [commonSeriesSettings]="commonSeriesSettings"
            [minBubbleSize]="20"
            [maxBubbleSize]="0.4"
          >
            <dxi-series
              [type]="'bubble'"
              [argumentField]="'Company'"
              [valueField]="'Count'"
            >
              <dxo-label
                [visible]="true"
                [position]="'inside'"
                overlappingBehavior="rotate"
              ></dxo-label>

              <!-- <dxo-point [size]="80"></dxo-point> -->
              <!-- <dxo-label [visible]="true" [position]="'inner'" ></dxo-label> -->
            </dxi-series>
            <!-- <dxo-tooltip
              [enabled]="true"
              location="edge"
              [customizeTooltip]="customizeTooltip"
            >
            </dxo-tooltip> -->
            <dxo-argument-axis>
              <dxo-grid [visible]="false"></dxo-grid>
              <dxo-label [rotationAngle]="20" overlappingBehavior="rotate">
              </dxo-label>
            </dxo-argument-axis>
            <dxo-title text="Top 10 Company News"></dxo-title>
            <dxo-legend [visible]="false"></dxo-legend>
          </dx-chart>
        </div>
        <!--  -->
        <div class="theme">
          <dx-chart
            [dataSource]="top10Themes"
            [palette]="['#0943ff']"
            [commonSeriesSettings]="commonSeriesSettingsForTheme"
            [minBubbleSize]="20"
            [maxBubbleSize]="0.6"
          >
            >
            <dxi-series
              [type]="'bubble'"
              [argumentField]="'Theme'"
              [valueField]="'Count'"
              [sizeField]="'size'"
            >
              <!-- <dxo-point [size]="5"></dxo-point> -->
              <dxo-label [visible]="true" [position]="'inside'"></dxo-label>
            </dxi-series>
            <!-- <dxo-tooltip
              [enabled]="true"
              location="edge"
              [customizeTooltip]="customizeTooltip"
            >
            </dxo-tooltip> -->
            <dxo-argument-axis>
              <dxo-grid [visible]="false"></dxo-grid>
              <dxo-label [rotationAngle]="20" overlappingBehavior="rotate">
              </dxo-label>
            </dxo-argument-axis>
            <dxo-title text="Top 10 Theme News"></dxo-title>
            <dxo-legend [visible]="false"></dxo-legend>
          </dx-chart>
        </div>
      </div>
    </div>

    <div class="published-articles">
      <div class="published-articles-title">
        <h3>
          In Focus
          <span class="orange_area"></span>
        </h3>
      </div>
      <div class="arrow-prev" (click)="scrollRightPublished()">
        <img src="../../../assets/images/small-arrow.svg" alt="arrow" />
      </div>
      <div class="arrow-next" (click)="scrollLeftPublished()">
        <img src="../../../assets/images/small-arrow.svg" alt="arrow" />
      </div>
      <div class="published-articles-cards" #content>
        <div class="card" *ngFor="let item of data">
          <div class="card-img">
            <img
              src="../../../assets/images/dummy_news_photo.png"
              alt="card-img"
            />
          </div>
          <div class="card-body">
            <p class="card-body-date"><b>Theme:</b> {{ item.Theme }}</p>
            <!-- <h3 class="card-body-title">{{ item.title }}</h3> -->
            <h3 class="card-body-title" *ngIf="item.News.length > 90">
              {{ item.News.substring(0, 90) }}...
            </h3>
            <h3 class="card-body-title" *ngIf="item.News.length <= 90">
              {{ item.News }}
            </h3>
            <p class="card-body-industry"><b>Company:</b> {{ item.Company }}</p>
            <p class="card-body-desc">{{ item.desc }}</p>
            <div class="card-body-action">
              <app-button
                [btnText]="'Read More'"
                [type]="'secondary'"
                [icon]="false"
                [iconName]="''"
              ></app-button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Cards  -->
    <!-- <div class="bioplasticsMarketMonitor-content-cards">
      <div
        class="bioplasticsMarketMonitor-content-cards-item"
        *ngFor="let item of data"
      >
        <div class="bioplasticsMarketMonitor-content-cards-item-body">
          <p class="item-news" *ngIf="item.News.length > 90">
            {{ item.News.substring(0, 90) }}...
          </p>
          <p class="item-news" *ngIf="item.News.length <= 90">
            {{ item.News }}
          </p>
          <div class="news-details">
            <p class="item-company">{{ item.Company }}</p>
            <p class="item-theme">{{ item.Theme }}</p>
          </div>
        </div>
      </div>
    </div> -->
  </div>
</div>

<!--  <button (click)="foo()">dsfsd</button>
    <div class="devex-bubble-chart" style="margin: 40px 0;">
      <dx-chart
        id="chart"
        [dataSource]="newData"
        [title]="'aaaa'"
        (onSeriesClick)="onSeriesClick($event)"
      >
        <dxo-common-series-settings type="bubble"></dxo-common-series-settings>
        <dxo-export [enabled]="true"></dxo-export>
        <dxo-legend position="outside" horizontalAlignment="left">
          <dxo-border [visible]="true"></dxo-border>
        </dxo-legend>
        <dxo-argument-axis title="Total Population">
        <dxo-label [customizeText]="argumentCustomizeText"></dxo-label>

        </dxo-argument-axis>
        <dxi-value-axis title="Population with Age over 60">
          <dxo-label [customizeText]="valueCustomizeText"></dxo-label>
        </dxi-value-axis>
        <dxo-tooltip
          [enabled]="true"
          location="edge"
          [customizeTooltip]="customizeTooltip"
        >
        </dxo-tooltip>
        <dxi-series
          *ngFor="let energy of this.seriesNewArrayOfObjects"
          [name]="energy.name"
          [argumentField]="energy.argumentField"
          [valueField]="energy.valueField"
          [sizeField]="energy.sizeField"
          [tagField]="energy.tagField"
          
        >

        </dxi-series>
        <!-- <dxi-series
    *ngFor="let correlation of correlationSource"
    [name]="correlation.name"
    [argumentField]="correlation.argumentField"
    [valueField]="correlation.valueField"
    [sizeField]="correlation.sizeField"
    [tagField]="correlation.tagField"
  >
  </dxi-series> -->
<!-- </dx-chart>
</div> -->

<!-- [
   {Company: 'BASF SE', Count: 45},
   {Company: 'Clariant', Count: 41},
   {Company: 'Arkema', Count: 36},
   {Company: 'Mitsubishi Chemical Corp.', Count: 30},
   {Company: 'DuPont', Count: 27},
   {Company: 'Asahi Kasei', Count: 25},
   {Company: 'Dow', Count: 19},
   {Company: 'Roquette S.A.', Count: 14},
   {Company: 'SECI S.p.A.', Count: 12},
   {Company: 'Danimer Scientific LLC', Count: 11},
 ] -->

<!-- <div class="bioplasticsMarketMonitor-content-chart_main">
  <div class="main_content"  >
    <div class="company_circle" *ngFor="let energy of top10Companies" [style.width]="energy.Count * 2 + 'px'" [style.height]="energy.Count * 2 + 'px'" >
      {{energy.Count}}
   
    </div>


  </div>
</div>
<div class="bioplasticsMarketMonitor-content-chart_footer" >
  <div *ngFor="let energy of top10Companies">
    <p class="company_name">{{energy.Company}}</p>
  </div>
</div> -->
