<div class="material-balance-tab">
  <div class="material-balance-tab-filters">
    <div class="dropdowns">
      <app-select-dropdown
        [dropdownTitle]="'Region'"
        [dropdownData]="regionOptions"
        (itemEvent)="handleChange($event)"
      ></app-select-dropdown>
      <app-select-dropdown
        *ngIf="selectedRegion"
        [dropdownTitle]="'Country'"
        [dropdownData]="countryOptions"
        (itemEvent)="handleCountryChange($event)"
      ></app-select-dropdown>
    </div>
  </div>
  <div class="material-balance-tab-body" *ngIf="selectedCountry">
    <div>
      <dx-pie-chart
        id="pie"
        title="USED OIL GENERATION"
        palette="pastel"
        paletteExtensionMode="blend"
        [dataSource]="generationChartData"
      >
        <dxi-series argumentField="label" valueField="value">
          <dxo-label
            [visible]="true"
            format="percent"
            [customizeText]="customizeLabel"
          ></dxo-label>
        </dxi-series>
        <dxo-legend
          verticalAlignment="bottom"
          horizontalAlignment="center"
          itemTextPosition="right"
        >
        </dxo-legend>
      </dx-pie-chart>
      <div class="pie-chart-total">
        Total: {{ generationChartTotal }} Kilotonnes
      </div>
    </div>
    <div>
      <dx-pie-chart
        id="pie2"
        title="USED OIL COLLECTION"
        palette="pastel"
        paletteExtensionMode="blend"
        [dataSource]="collectionChartData"
      >
        <dxi-series argumentField="label" valueField="value">
          <dxo-label
            [visible]="true"
            format="percent"
            [customizeText]="customizeLabel"
          ></dxo-label>
        </dxi-series>
        <dxo-legend
          verticalAlignment="bottom"
          horizontalAlignment="center"
          itemTextPosition="right"
        >
        </dxo-legend>
      </dx-pie-chart>
      <div class="pie-chart-total">
        Total: {{ collectionChartTotal }} Kilotonnes
      </div>
    </div>
    <div>
      <dx-pie-chart
        id="pie3"
        title="USED OIL DISPOSAL"
        palette="pastel"
        paletteExtensionMode="blend"
        [dataSource]="disposalChartData"
      >
        <dxi-series argumentField="label" valueField="value">
          <dxo-label
            [visible]="true"
            format="percent"
            [customizeText]="customizeLabel"
          ></dxo-label>
        </dxi-series>
        <dxo-legend
          verticalAlignment="bottom"
          horizontalAlignment="center"
          itemTextPosition="right"
        >
        </dxo-legend>
      </dx-pie-chart>
      <div class="pie-chart-total">
        Total: {{ disposalChartTotal }} Kilotonnes
      </div>
    </div>
    <div>
      <dx-pie-chart
        id="pie4"
        title="USED OIL RE-REFINING"
        palette="pastel"
        paletteExtensionMode="blend"
        [dataSource]="refiningChartData"
      >
        <dxi-series argumentField="label" valueField="value">
          <dxo-label
            [visible]="true"
            format="percent"
            [customizeText]="customizeLabel"
          ></dxo-label>
        </dxi-series>
        <dxo-legend
          verticalAlignment="bottom"
          horizontalAlignment="center"
          itemTextPosition="right"
        >
        </dxo-legend>
      </dx-pie-chart>
      <div class="pie-chart-total">
        Total: {{ refiningChartTotal }} Kilotonnes
      </div>
    </div>
  </div>
</div>
