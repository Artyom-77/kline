<div class="synthetic-basestocks">
  <app-hero-section
    title="Synthetic Basestocks Deblend Model"
    desc="
      An interactive model to analyse lubricant basestock demand and supply
  trends based on demand growth, quality shifts, changes in blending
  approaches and changes to basestock supply including new capacity
  addition and anticipated closures. Provides a view of historical demand,
  supply and growth as well.
    "
  ></app-hero-section>
  <div class="synthetic-basestocks-tabs">
    <app-button
      [btnText]="'Tabular View'"
      [type]="'secondary'"
      [icon]="false"
      [iconName]="''"
      (click)="selectedMainTab = 1"
    ></app-button>
    <app-button
      [btnText]="'Chart View'"
      [type]="'secondary'"
      [icon]="false"
      [iconName]="''"
      (click)="selectedMainTab = 2"
    ></app-button>
  </div>
  <div *ngIf="selectedMainTab === 1" class="synthetic-basestocks-body">
    <div class="synthetic-basestocks-body-filters">
      <app-button
        [btnText]="'Demand'"
        [type]="'secondary small'"
        [icon]="false"
        [iconName]="'../../../assets/images/demand.png'"
        (click)="selectedTab = 1"
      ></app-button>
      <app-button
        [btnText]="'Consumption by synthetic Ester Type'"
        [type]="'secondary small'"
        [icon]="false"
        [iconName]="''"
        (click)="selectedTab = 2"
      ></app-button>
      <app-button
        [btnText]="'Consumption by PAG Type'"
        [type]="'secondary small'"
        [icon]="false"
        [iconName]="''"
        (click)="selectedTab = 3"
      ></app-button>
      <app-button
        [btnText]="'Synthetic Basestock Demand Split by Application'"
        [type]="'secondary small'"
        [icon]="false"
        [iconName]="''"
        (click)="selectedTab = 4"
      ></app-button>
      <app-button
        [btnText]="'Growth Rates for Synthetic Basestocks'"
        [type]="'secondary small'"
        [icon]="false"
        [iconName]="''"
        (click)="selectedTab = 5"
      ></app-button>
    </div>
    <!-- <div class="synthetic-basestocks-body-filters tabs">
      <div
        class="tab"
        (click)="selectedTab = 1"
        [ngClass]="{ active: selectedTab === 1 }"
      >
        <h3>Demand</h3>
      </div>
      <div
        class="tab"
        (click)="selectedTab = 2"
        [ngClass]="{ active: selectedTab === 2 }"
      >
        <h3>Consumption by synthetic Ester Type</h3>
      </div>
      <div
        class="tab"
        (click)="selectedTab = 3"
        [ngClass]="{ active: selectedTab === 3 }"
      >
        <h3>Consumption by PAG Type</h3>
      </div>
      <div
        class="tab"
        (click)="selectedTab = 4"
        [ngClass]="{ active: selectedTab === 4 }"
      >
        <h3>Synthetic Basestock Demand Split by Application</h3>
      </div>
      <div
        class="tab"
        (click)="selectedTab = 5"
        [ngClass]="{ active: selectedTab === 5 }"
      >
        <h3>Growth Rates for Synthetic Basestocks</h3>
      </div>
    </div> -->
    <div *ngIf="selectedTab === 1" class="synthetic-basestocks-body-pivot">
      <dx-pivot-grid
        (onCellClick)="onCellClick($event)"
        [allowSortingBySummary]="true"
        [allowSorting]="true"
        [allowFiltering]="true"
        [allowExpandAll]="true"
        [showColumnGrandTotals]="true"
        [showBorders]="true"
        [dataSource]="dataSource"
      >
        <dxo-field-panel
          [showDataFields]="false"
          [showRowFields]="showRowFields"
          [showColumnFields]="false"
          [showFilterFields]="true"
          [allowFieldDragging]="false"
          [visible]="true"
        >
        </dxo-field-panel>
      </dx-pivot-grid>
    </div>
    <div *ngIf="selectedTab === 2" class="synthetic-basestocks-body-pivot">
      <dx-pivot-grid
        (onCellClick)="onCellClick($event)"
        [allowSortingBySummary]="true"
        [allowSorting]="true"
        [allowFiltering]="true"
        [allowExpandAll]="true"
        [showBorders]="true"
        [dataSource]="dataSource"
      >
        <dxo-field-panel
          [showDataFields]="false"
          [showRowFields]="showRowFields"
          [showColumnFields]="false"
          [showFilterFields]="true"
          [allowFieldDragging]="false"
          [visible]="true"
        >
        </dxo-field-panel>
      </dx-pivot-grid>
    </div>
    <div *ngIf="selectedTab === 3" class="synthetic-basestocks-body-pivot">
      <dx-pivot-grid
        (onCellClick)="onCellClick($event)"
        [allowSortingBySummary]="true"
        [allowSorting]="true"
        [allowFiltering]="true"
        [allowExpandAll]="true"
        [showBorders]="true"
        [dataSource]="dataSource"
      >
        <dxo-field-panel
          [showDataFields]="false"
          [showRowFields]="showRowFields"
          [showColumnFields]="false"
          [showFilterFields]="true"
          [allowFieldDragging]="false"
          [visible]="true"
        >
        </dxo-field-panel>
      </dx-pivot-grid>
    </div>
    <div *ngIf="selectedTab === 4" class="synthetic-basestocks-body-pivot">
      <dx-pivot-grid
        (onCellClick)="onCellClick($event)"
        [allowSortingBySummary]="true"
        [allowSorting]="true"
        [allowFiltering]="true"
        [allowExpandAll]="true"
        [showBorders]="true"
        [dataSource]="dataSource"
      >
        <dxo-field-panel
          [showDataFields]="false"
          [showRowFields]="showRowFields"
          [showColumnFields]="false"
          [showFilterFields]="true"
          [allowFieldDragging]="false"
          [visible]="true"
        >
        </dxo-field-panel>
      </dx-pivot-grid>
    </div>
    <div *ngIf="selectedTab === 5" class="synthetic-basestocks-body-pivot">
      <dx-pivot-grid
        (onCellClick)="onCellClick($event)"
        [allowSortingBySummary]="true"
        [allowSorting]="true"
        [allowFiltering]="true"
        [allowExpandAll]="true"
        [showBorders]="true"
        [dataSource]="dataSource"
      >
        <dxo-field-panel
          [showDataFields]="false"
          [showRowFields]="showRowFields"
          [showColumnFields]="false"
          [showFilterFields]="true"
          [allowFieldDragging]="false"
          [visible]="true"
        >
        </dxo-field-panel>
      </dx-pivot-grid>
    </div>
  </div>
  <div *ngIf="selectedMainTab === 2" class="synthetic-basestocks-body">
    <app-synthetic-chart-view
      [chartData]="dataSource.store"
    ></app-synthetic-chart-view>
  </div>
  <div class="modal-area">
    <app-modal
      [title]="gridItemData.cell.rowPath[gridItemData.cell.rowPath.length - 1]"
      *ngIf="openModal"
      (onClose)="onCloseModal()"
    >
      <div class="modal-content">
        <div class="action">
          <app-button
            [btnText]="'Save'"
            [type]="'secondary'"
            [icon]="false"
            [iconName]="''"
          ></app-button>
        </div>
        <div>
          <dx-data-grid
            id="gridContainer"
            [dataSource]="modalDummyData"
            keyExpr="id"
            (onFocusedCellChanging)="onFocusedCellChanging($event)"
            [showBorders]="true"
            [columnAutoWidth]="true"
          >
            <dxo-paging [enabled]="true"> </dxo-paging>
            <dxo-editing
              mode="batch"
              [allowUpdating]="true"
              startEditAction="dblClick"
            >
            </dxo-editing>
            <dxi-column dataField="Basestock Group"> </dxi-column>
            <dxi-column dataField="Basestock"> </dxi-column>
            <dxi-column dataField="Composition" [width]="170"> </dxi-column>
            <!-- <dxi-column dataField="Prefix" [width]="70" caption="Title">
            </dxi-column>
            <dxi-column dataField="StateID" caption="State" [width]="125">
            </dxi-column>
            <dxi-column dataField="BirthDate" dataType="date"> </dxi-column> -->
          </dx-data-grid>
        </div>
      </div>
    </app-modal>
  </div>
</div>
